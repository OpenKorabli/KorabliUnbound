(def element UICompendiumPriceTagsInset ()
	(scope
		(var currencies:array = "[	SC.Common.CURRENCIES.CREDITS,			SC.Common.CURRENCIES.GOLD,			SC.Common.CURRENCIES.XP,				SC.Common.CURRENCIES.FREE_XP,
									SC.Common.CURRENCIES.ELITE_XP,			SC.Common.CURRENCIES.EVENTUM_1,		SC.Common.CURRENCIES.EVENTUM_2,			SC.Common.CURRENCIES.PARAGON_XP,
									SC.Common.CURRENCIES.COAL,				SC.Common.CURRENCIES.STEEL,			SC.Common.CURRENCIES.BRASS,				SC.Common.CURRENCIES.MOLYBDENUM,
									SC.Common.CURRENCIES.CLAN_RESOURCE,		'duplicate',						SC.Common.CURRENCIES.RECRUITMENT_POINTS,
									SC.Common.CURRENCIES.EVENTUM_3,			SC.Common.CURRENCIES.EVENTUM_4,		SC.Common.CURRENCIES.EVENTUM_5,			SC.Common.CURRENCIES.EVENTUM_6,
									SC.Common.CURRENCIES.EVENTUM_7,			SC.Common.CURRENCIES.EVENTUM_8,		SC.Common.CURRENCIES.EVENTUM_9,			SC.Common.CURRENCIES.EVENTUM_10,
									SC.Common.CURRENCIES.EVENTUM_CN,		SC.Common.CURRENCIES.CLIENTUM_1,	SC.Common.CURRENCIES.CLIENTUM_2,		SC.Common.CURRENCIES.SANTIUM,
									SC.Common.CURRENCIES.DOCKYARDUM_1,		SC.Common.CURRENCIES.DOCKYARDUM_2,	SC.Common.CURRENCIES.ELITE_CREW_BOOK
								]")

		(var priceDeficitData:array = "[	{ size: SIZE.SMALL,		hideIcon: true	},
											{ size: SIZE.SMALL,		hideIcon: false },
											{ size: SIZE.MEDIUM,	hideIcon: true	},
											{ size: SIZE.MEDIUM,	hideIcon: false	},
											{ size: SIZE.LARGE,		hideIcon: true	},
											{ size: SIZE.LARGE,		hideIcon: false	} ]")

		(var priceTagWithLabelData:array = "[	{ label: 'IDS_RESEARCH_COST_COLON',		currency: SC.Common.CURRENCIES.XP,			size: SIZE.SMALL	},
												{ label: 'IDS_RESEARCH_COST_COLON',		currency: SC.Common.CURRENCIES.XP,			size: SIZE.MEDIUM	},
												{ label: 'IDS_RESEARCH_COST_COLON',		currency: SC.Common.CURRENCIES.XP,			size: SIZE.LARGE	},
												{ label: 'IDS_PURCHASE_COST_COLON',		currency: SC.Common.CURRENCIES.GOLD,		size: SIZE.SMALL	},
												{ label: 'IDS_PURCHASE_COST_COLON',		currency: SC.Common.CURRENCIES.GOLD,		size: SIZE.MEDIUM	},
												{ label: 'IDS_PURCHASE_COST_COLON',		currency: SC.Common.CURRENCIES.GOLD,		size: SIZE.LARGE	},
												{ label: 'IDS_EXPERIENCE_AMOUNT',	currency: SC.Common.CURRENCIES.ELITE_XP,	size: SIZE.SMALL	},
												{ label: 'IDS_EXPERIENCE_AMOUNT',	currency: SC.Common.CURRENCIES.ELITE_XP,	size: SIZE.MEDIUM	},
												{ label: 'IDS_EXPERIENCE_AMOUNT',	currency: SC.Common.CURRENCIES.ELITE_XP,	size: SIZE.LARGE	} ]")

		(var priceTagWithQuestionData:array = "[	{ questionText: 'IDS_QUESTION_PURCHASE_AND_INSTALL_FOR',		currency: SC.Common.CURRENCIES.CREDITS,			finalPrice: 14232,
																													currencyOptional: SC.Common.CURRENCIES.GOLD,	finalPriceOptional: 324	},
													{ questionText: 'IDS_QUESTION_PURCHASE_AND_INSTALL_FOR',		currency: SC.Common.CURRENCIES.CREDITS,			finalPrice: 14232		},
													{ questionText: 'IDS_PURCHASE_MK_ACCOUNT_FOR',				currency: SC.Common.CURRENCIES.GOLD,			finalPrice: 14232		},
													{ questionText: 'IDS_QUESTION_RESEARCH_FOR',					currency: SC.Common.CURRENCIES.XP,				finalPrice: 14232		},
													{ questionText: 'IDS_QUESTION_RESEARCH_FOR_FREE'	} ]")
	
		(event evDiscountAvailiableChanged)
		(var isShowDiscountTag:bool = false)
		(bind isShowDiscountTag "!isShowDiscountTag" init=false watch=false (event "evDiscountAvailiableChanged"))

		(event evColumnAlignAvailiableChanged)
		(var isColumAlign:bool = false)
		(bind isColumAlign "!isColumAlign" init=false watch=false (event "evColumnAlignAvailiableChanged"))
	)
	(class $Fullsize)
	
	(block
		(style
			(marginRight = "SXS")
			(marginBottom = "SXS")
		)

		(element CompendiumElementTitle "'PriceTag params'")

		(hblock
			(style (hgap = "SXS"))

			(element CheckBox
				_isChecked = "isShowDiscountTag"
				_label = 'isShowDiscountTag'
				_dispatchedEv = 'evDiscountAvailiableChanged'
			)

			(element CheckBox
				_isChecked = "isColumAlign"
				_label = 'isColumAlign'
				_dispatchedEv = 'evColumnAlignAvailiableChanged'
			)
		)
	)

	(scrollArea
		(class $Fullsize)
		(style (backgroundColor = "NO_COLOR"))

		(macro DEFAULT_VERTICAL_SCROLL_PARAMS
			_singleStep = "60px"
			_isContrastScrollBar = "true"
		)

		(content
			(style (width = 100%))

			(element CompendiumElementTitle "'PriceTag'")

			(block
				(style
					(width = 100%)
					(flow = "tile_horizontal")
					(gap = "L")
				)
				
				(controller $Repeat renderer='UICompendiumPriceTagsRepeater' 
					(bind count "currencies.length")
					(args
						_currency = "currencies[$index]"
						_isShowDiscountTag = "isShowDiscountTag"
						_isColumAlign= "isColumAlign"
					)
				)
			)

			(block
				(style
					(marginTop = "L")
					(width = 100%)
					(flow = "tile_horizontal")
					(gap = "M")
				)

				(block
					(element CompendiumElementTitle "'PriceDeficit'")

					(block
						(style (vgap = "SXS"))

						(controller $Repeat renderer='PriceDeficit'
							(bind count "priceDeficitData.length")
							(args
								_priceInfo	= "{	currency: SC.Common.CURRENCIES.CREDITS,
													basePrice: 123456,
													finalPrice: 567890,
													discountPercent: 10,
													timeLeft: 123 }"
								_deficit 	= "12310"
								_hideIcon	= "priceDeficitData[$index].hideIcon"
								_size		= "priceDeficitData[$index].size"
							)
						)
					)
				)

				(block
					(element CompendiumElementTitle "'PriceDeficit'")

					(block
						(style (vgap = "SXS"))

						(controller $Repeat renderer='PriceDeficit'
							(bind count "priceDeficitData.length")
							(args
								_priceInfo	= "{	currency: SC.Common.CURRENCIES.FREE_XP,
													basePrice: 123456,
													finalPrice: 567890,
													discountPercent: 10,
													timeLeft: 123 }"
								_deficit 	= "12310"
								_hideIcon	= "priceDeficitData[$index].hideIcon"
								_size		= "priceDeficitData[$index].size"
							)
						)
					)
				)

				(block
					(element CompendiumElementTitle "'PriceTagWithLabel'")

					(block
						(style (vgap = "SXS"))

						(controller $Repeat renderer='PriceTagWithLabel'
							(bind count "priceTagWithLabelData.length")
							(args
								_priceInfo	= "{	currency: priceTagWithLabelData[$index].currency,
													basePrice: 123456,
													finalPrice: 567890,
													discountPercent: 10,
													timeLeft: 123 }"
								_label		= "priceTagWithLabelData[$index].label"
								_size		= "priceTagWithLabelData[$index].size"
							)
						)
					)
				)

				(block
					(element CompendiumElementTitle "'PriceTagWithQuestion'")

					(block
						(style (vgap = "SXS"))

						(controller $Repeat renderer='PriceTagWithQuestion'
							(bind count "priceTagWithQuestionData.length")
							(args
								_questionText	= "priceTagWithQuestionData[$index].questionText"
								_priceInfo		=	"'finalPrice' in priceTagWithQuestionData[$index] 	?	{	currency: priceTagWithQuestionData[$index].currency,
																												finalPrice: priceTagWithQuestionData[$index].finalPrice }
																										: null"

								_optionalPriceInfo =	"'finalPriceOptional' in priceTagWithQuestionData[$index]	?	{	currency: priceTagWithQuestionData[$index].currencyOptional,
																															finalPrice: priceTagWithQuestionData[$index].finalPriceOptional }
																													: null"
							)
						)
					)
				)
			)
		)
	)
)

(def element UICompendiumPriceTagsRepeater (_currency:str, _isShowDiscountTag:bool, _isColumAlign:bool)
	(scope
		(var priceInfo:dict = "{	currency: _currency,
									basePrice: 123456,
									finalPrice: 567892,
									discountPercent: 10,
									timeLeft: 123 }")

		(var priceTagParamsWithSize:array = "[	{priceInfo: priceInfo, showDiscountTag: _isShowDiscountTag, size: SIZE.LARGE, _isColumnAlign: _isColumAlign},
												{priceInfo: priceInfo, showDiscountTag: _isShowDiscountTag, size: SIZE.MEDIUM, _isColumnAlign: _isColumAlign},
												{priceInfo: priceInfo, showDiscountTag: _isShowDiscountTag, size: SIZE.SMALL, _isColumnAlign: _isColumAlign} ]")
	)
	(style
		(width = 150px)
		(bind align "_isColumAlign ? right : left")
		(vgap = "M")
	)

	(controller $Repeat renderer='PriceTag'
		(bind count "priceTagParamsWithSize.length")
		(args
			_priceInfo =		"'priceInfo'		in priceTagParamsWithSize[$index] ? priceTagParamsWithSize[$index].priceInfo		: null"
			_showDiscountTag =	"'showDiscountTag'	in priceTagParamsWithSize[$index] ? priceTagParamsWithSize[$index].showDiscountTag	: null"
			_size =				"'size'				in priceTagParamsWithSize[$index] ? priceTagParamsWithSize[$index].size				: null"
		)
	)
)