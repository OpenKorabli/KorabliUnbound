(def constant COMPENDIUM_TOOLTIP_SYSTEM_PAGES
"[
	{ label: 'Headers',		element: 'CompendiumTooltipSystemHeaderContainer'},
	{ label: 'Description',	element: 'CompendiumTooltipSystemDescriptionContainer'},
	{ label: 'Statuses',	element: 'CompendiumTooltipSystemStatusesContainer'},
	{ label: 'PriceTags',	element: 'CompendiumTooltipSystemPriceContainer'},
	{ label: 'Rewards',		element: 'CompendiumTooltipSystemRewardContainer'},
	{ label: 'Params',		element: 'CompendiumTooltipSystemParamsContainer'}
]")

(def css $CompendiumTooltipSystemTileElementsContent ()
	(height = 100%)
	(flow = "tile_vertical")
	(gap = "S")
)

(def css $CompendiumTooltipSystemTileGroupsContent ()
	(height = 100%)
	(flow = "tile_vertical")
	(gap = "M")
)

(def element UICompendiumTooltipSystemVerticalDivider ()
	(style
		(height = 100%)
		(width = 1px)
		(backgroundColor = "SC.Ui_styles.SERVICE_COLORS.WHITE")
		(alpha = 0.3)
	)
)

(def element UICompendiumTooltipSystemInset ()
	(scope
		(event evCompendiumTooltipSystemTabSelected)
		(var currentTabIndex:number = 0)
		(bind currentTabIndex "$event.index" init=false (event "evCompendiumTooltipSystemTabSelected"))
	)
	(class $Fullsize)
	(style
		(flow = "horizontal")
		(hgap = "LS")
	)

	(block
		(style
			(width = 250px)
			(vgap = 1px)
		)

		(controller $Repeat renderer='SideTabButton'
			(count = "COMPENDIUM_TOOLTIP_SYSTEM_PAGES.length")
			(args
				_label = "COMPENDIUM_TOOLTIP_SYSTEM_PAGES[$index].label"
				_isSelected = "currentTabIndex == $index"
				_dispatchedEv = "'evCompendiumTooltipSystemTabSelected'"
				_dispatchParams = "{ index: $index }"
			)
		)
	)

	(block
		(class $Fullsize)
		(class $CompendiumBorderContainer)

		(scrollArea
			(class $Fullsize)
			(style (backgroundColor = "NO_COLOR"))

			(macro DEFAULT_HORIZONTAL_SCROLL_PARAMS
				_singleStep = "60px"
				_isContrastScrollBar = "true"
			)

			(content
				(style (height = 100%))

				(controller $Instance
					(bind renderer "COMPENDIUM_TOOLTIP_SYSTEM_PAGES[currentTabIndex].element")
				)
			)
		)
	)
)

(def element CompendiumTooltipSystemHeaderContainer ()
	(scope
		(var testTooltipHeaders:array = "[	{	_headerText: 'Test one line header text',
												_subheaderText: ''},

											{	_headerText: 'Test very very long two lines long header text',
												_subheaderText: ''},

											{	_headerText: 'Test one line header text',
												_subheaderText: 'One line subheader text'},

											{	_headerText: 'Test one line header text',
												_subheaderText: 'Two lines very very long subheader text to test subheader'},

											{	_headerText: 'Test very very long two lines long header text',
												_subheaderText: 'Two lines very very long subheader text to test subheader'}
										]")


		(var testTooltipSecondaryHeaders:array = "	[	{	_headerText: 'Test one line header text'},
														{	_headerText: 'Test very very long two lines long header text'}
													]")

		(var testTooltipIconsHeaders:array = "[	{	_imageUrl: '',
													_imageWidth: 80, _imageHeight: 80,
													_headerText: 'No subheader text'},

												{	_imageUrl: '',
													_imageWidth: 80, _imageHeight: 80,
													_headerText: 'One line header text',
													_subheaderText: 'One line subheader text'},

												{	_headerIconType: SC.Ui_styles.TOOLTIP_SYSTEM_HEADER_ICON_TYPE.WITH_AMOUNT,
													_iconAmount: 20,
													_imageUrl: '',
													_imageWidth: 80, _imageHeight: 80,
													_headerText: 'Icon with amount',
													_subheaderText: 'One line subheader text'},

												{	_imageUrl: '',
													_imageWidth: 80, _imageHeight: 80,
													_headerText: 'One line header text',
													_subheaderText: 'Two lines long subheader test text'},

												{	_imageUrl: '',
													_imageWidth: 80, _imageHeight: 80,
													_headerText: 'Test two lines very long header text',
													_subheaderText: 'Two lines long subheader test text' },

												{	_imageUrl: '',
													_imageWidth: 80, _imageHeight: 80,
													_headerText: 'Test two lines very long-long-long header text long-long-long',
													_subheaderText: 'Two lines long subheader long-long-long test long-long-long text' }
											]")
	)
	(style
		(height = 100%)
		(flow = "horizontal")
		(hgap = "M")
	)

	(block
		(style(height = 100%))

		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemHeaderSubheaderText'
			_width = 100%
		)

		(block
			(class $CompendiumTooltipSystemTileElementsContent)

			(controller $Repeat renderer='TestTooltipSystemHeaderSubheaderText'
				(bind count "testTooltipHeaders.length")
				(args
					_headerText =		"'_headerText'		in testTooltipHeaders[$index] ? testTooltipHeaders[$index]._headerText 		: null"
					_subheaderText =	"'_subheaderText'	in testTooltipHeaders[$index] ? testTooltipHeaders[$index]._subheaderText 	: null"
				)
			)
		)
	)

	(block
		(style (height = 100%))

		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemSecondaryHeaderText'
			_width = 100%
		)

		(block
			(class $CompendiumTooltipSystemTileElementsContent)

			(controller $Repeat renderer='TestTooltipSystemSecondaryHeaderText'
				(bind count "testTooltipSecondaryHeaders.length")
				(args
					_headerText =		"'_headerText'		in testTooltipSecondaryHeaders[$index] ? testTooltipSecondaryHeaders[$index]._headerText 		: null"
				)
			)
		)
	)

	(block
		(style (height = 100%))

		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemHeaderWithIconAndText'
			_width = 100%
		)

		(block
			(class $CompendiumTooltipSystemTileElementsContent)

			(controller $Repeat renderer='TestTooltipSystemHeaderWithIconAndText'
				(bind count "testTooltipIconsHeaders.length")
				(args
					_headerText =		"'_headerText'		in testTooltipIconsHeaders[$index] ? testTooltipIconsHeaders[$index]._headerText 		: null"
					_imageUrl =			"'_imageUrl'		in testTooltipIconsHeaders[$index] ? testTooltipIconsHeaders[$index]._imageUrl			: null"
					_imageWidth =		"'_imageWidth'		in testTooltipIconsHeaders[$index] ? testTooltipIconsHeaders[$index]._imageWidth		: null"
					_imageHeight =		"'_imageHeight'		in testTooltipIconsHeaders[$index] ? testTooltipIconsHeaders[$index]._imageHeight		: null"
					_headerIconType =	"'_headerIconType'	in testTooltipIconsHeaders[$index] ? testTooltipIconsHeaders[$index]._headerIconType	: null"
					_iconAmount =		"'_iconAmount'		in testTooltipIconsHeaders[$index] ? toString(testTooltipIconsHeaders[$index]._iconAmount)		: null"
					_subheaderText =	"'_subheaderText'	in testTooltipIconsHeaders[$index] ? testTooltipIconsHeaders[$index]._subheaderText 	: null"
				)
			)
		)
	)

	(block
		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemHeaderShip'
			_width = 100%
		)
		(element TestTooltipSystemHeaderShip
			_shipId =	3760141776
			_withFlag =	true
		)
	)
)

(def element CompendiumTooltipSystemDescriptionContainer ()
	(scope
		(var testTooltipSystemProgressBarBlockRepeater:array = "[	{_title: 'Progress bar title', _currentValue: 0, _maxValue: 1200},
																	{_title: 'Progress bar title', _currentValue: 500, _maxValue: 1200},
																	{_title: 'Progress bar title', _currentValue: 800, _maxValue: 1200, _showPercent: true}
																]")

		(var testTooltipSystemDoubleProgressBarBlockRepeater:array = "[	{_title: 'Progress bar title', _currentValue: 1100, _valueIncrement: 300, _maxValue: 1200, _showPercent: true} ]")

		(var testTooltipSystemCounterLine:array = "[	{_title: 'Count', _count: 10000, _isAutoWidth: true},
														{_title: 'Overpriced price of the price for two lines more and more', _count: 10000} ]")
	)
	(style
		(height = 100%)
		(flow = "horizontal")
		(hgap = "M")
	)

	(block
		(class $CompendiumTooltipSystemTileGroupsContent)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemDescriptionText'
				_width = 100%
			)
			(element TestTooltipSystemDescription
				_descriptionText =	'Description block without any style customization at all'
			)
		)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemCounterLine'
				_width = 100%
			)

			(block
				(style (vgap = "S"))
				(controller $Repeat renderer='TestTooltipSystemCounterLine'
					(bind count "testTooltipSystemCounterLine.length")
					(args
						_title =	"'_title'				in testTooltipSystemCounterLine[$index] 	? testTooltipSystemCounterLine[$index]._title	: null"
						_count =	"'_count'				in testTooltipSystemCounterLine[$index]		? testTooltipSystemCounterLine[$index]._count	: null"
						_isAutoWidth =	"'_isAutoWidth'		in testTooltipSystemCounterLine[$index]		? testTooltipSystemCounterLine[$index]._isAutoWidth	: false"
					)
				)
			)
		)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemTaskRestrictions'
				_width = 100%
			)

			(element TestTooltipSystemTaskRestrictions)
		)
	)

	(block
		(class $CompendiumTooltipSystemTileGroupsContent)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemProgressBarBlock'
				_width = 100%
			)
			(block
				(style (vgap = "S"))
				(controller $Repeat renderer='TestTooltipSystemProgressBarBlock'
					(bind count "testTooltipSystemProgressBarBlockRepeater.length")
					(args
						_title =		"'_title'			in testTooltipSystemProgressBarBlockRepeater[$index] 	? testTooltipSystemProgressBarBlockRepeater[$index]._title			: null"
						_currentValue =	"'_currentValue'	in testTooltipSystemProgressBarBlockRepeater[$index]	? testTooltipSystemProgressBarBlockRepeater[$index]._currentValue	: null"
						_maxValue =		"'_maxValue'		in testTooltipSystemProgressBarBlockRepeater[$index]	? testTooltipSystemProgressBarBlockRepeater[$index]._maxValue		: null"
						_showPercent =	"'_showPercent'		in testTooltipSystemProgressBarBlockRepeater[$index]	? testTooltipSystemProgressBarBlockRepeater[$index]._showPercent	: null"
					)
				)
			)
		)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemDoubleProgressBarBlock'
				_width = 100%
			)

			(block
				(style (vgap = "S"))
				(controller $Repeat renderer='TestTooltipSystemDoubleProgressBarBlock'
					(bind count "testTooltipSystemDoubleProgressBarBlockRepeater.length")
					(args
						_title =			"'_title'			in testTooltipSystemDoubleProgressBarBlockRepeater[$index] 	? testTooltipSystemDoubleProgressBarBlockRepeater[$index]._title			: null"
						_currentValue =		"'_currentValue'	in testTooltipSystemDoubleProgressBarBlockRepeater[$index]	? testTooltipSystemDoubleProgressBarBlockRepeater[$index]._currentValue		: null"
						_maxValue =			"'_maxValue'		in testTooltipSystemDoubleProgressBarBlockRepeater[$index]	? testTooltipSystemDoubleProgressBarBlockRepeater[$index]._maxValue			: null"
						_showPercent =		"'_showPercent'		in testTooltipSystemDoubleProgressBarBlockRepeater[$index]	? testTooltipSystemDoubleProgressBarBlockRepeater[$index]._showPercent		: null"
						_valueIncrement =	"'_valueIncrement'	in testTooltipSystemDoubleProgressBarBlockRepeater[$index]	? testTooltipSystemDoubleProgressBarBlockRepeater[$index]._valueIncrement	: null"
					)
				)
			)
		)
	)

	(block
		(class $CompendiumTooltipSystemTileGroupsContent)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemShipStereotypeWithDenyReason'
			)

			(element TestTooltipSystemShipStereotype
				_shipId =	4293867504
				_isReady = 	true
			)
		)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemShipsRange'
				_width = 100%
			)

			(element TestTooltipSystemShipsRange
				_startShipId =	4293867504
				_endShipId =	4286527472
			)
		)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemShipWithTitle'
				_width = 100%
			)

			(element TestTooltipSystemShipWithTitle
				_title =	'Long Long title bla-bla-bla:'
				_shipId =	4293867504

				(style (marginBottom = "S"))
			)

			(element TestTooltipSystemShipWithTitle
				_title =	'IDS_CREW_ASSIGNED_TO_SELECT_SHIP'
				_shipId =	4286527472
				_withFlag =	true
			)
		)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemShipComplexityLevel'
				_width = 100%
			)

			(element TestTooltipSystemShipComplexityLevel
				_shipId = 4293867504
			)
		)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemShipRole'
				_width = 100%
			)

			(element TestTooltipSystemShipRole
				_shipRole = "SC.Ships.SHIP_ROLE.SS_SILENT_HUNTER"
				_hasColon = false
				_isWidthStretch = true
			)
		)
	)

	(block
		(class $CompendiumTooltipSystemTileGroupsContent)

		(block
			(bindcall externalCall 'direct.action' "['make_tooltipShipParams_list', {shipId: 4292785616}]" on='addedToStage')

			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemShipTags'
				_width = 100%
			)

			(element TestTooltipSystemShipTags
				_shipId = 4292785616
			)
		)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemShipMasteryLevel'
				_width = 100%
			)

			(element TestTooltipSystemShipMasteryLevel
				_masteryRank = 1
			)
		)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemShipMasteryTaskStatus'
				_width = 100%
			)

			(element TestTooltipSystemShipMasteryTaskStatus
				_masteryTaskStatus = 'available'

				(style (marginBottom = "S"))
			)

			(element TestTooltipSystemShipMasteryTaskStatus
				_masteryTaskStatus = 'in_progress'
			)
		)
	)
)

(def element CompendiumTooltipSystemStatusesContainer ()
	(scope
		(var serverTime:number = "currentServerSeconds()" (event "evInfrequent"))

		(var testTooltipStatusLines:array = "[	{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.CHECK,
													_text: 'Check status'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.ATTENTION,
													_text: 'Attention status'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.WARNING,
													_text: 'Warning status'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.NEGATIVE,
													_text: 'Negative status'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.DATE,
													_text: 'Default date status'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.DATE_ATTENTION,
													_text: 'Attention date status'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.UPDATE,
													_text: 'IDS_SYNC_GOES_INFO'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.LOCK,
													_text: 'IDS_TOOLTIP_AVAILABLE_LATER'},
													
												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.REWARD_AVAILABLE,
													_text: 'IDS_REWARD_AVAILABLE'},
													
												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.CAMPAIGN_REWARD,
													_text: 'IDS_AVAILABLE_REWARD'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.CONTAINER_REWARD,
													_text: 'IDS_LOOTBOX_AVAILABLE'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.BROTHERHOOD_REWARD,
													_text: 'IDS_AVAILABLE_REFERRAL_POINTS'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.BROTHERHOOD,
													_text: 'IDS_BUY_IN_ARMORY_BROTHERHOOD'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.SALE_AVAILABLE,
													_text: 'IDS_BOOSTER_AVAILABLE'},							

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.REPAINTED,
													_text: 'IDS_ALTERNATIVE_COLOR_SCHEME'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.EPIC_SKILL,
													_text: 'IDS_SKILL_ISEPIC'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.ADVANCED_CREW,
													_text: 'IDS_RARE_CREW_STATUS'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.UNIQUE_CREW,
													_text: 'IDS_LEGENDARY_CREW_STATUS'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.IN_BATTLE,
													_text: 'IDS_CASUAL_CVC_MATCHING_STAGE_DESCR'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.OUT_BATTLE,
													_text: 'IDS_PL_CASUAL_CVC_WAR_STAGE_ATTEMPTS_STATUS'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.RECOMMENDED,
													_text: 'IDS_RECOMMENDED_SKILL'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.RETRAINING,
													_text: 'IDS_TOOLTIP_STATUS_NEED_RETRAINING_TO_ASSIGN'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.TO_ARMORY,
													_text: 'IDS_BUY_IN_ARMORY_STATUS'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.DEFAULT,
													_text: 'Default status'},
													
												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.MOUSE_LEFT,
													_text: 'IDS_GO_TO_LOOTBOXES_MOUSE_INSTRUCTION'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.MOUSE_DOUBLE_LEFT,
													_text: 'IDS_CHOOSE_PVE_OPERATION_MOUSE_INSTRUCTION'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.MOUSE_RIGHT,
													_text: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.MOUSE_SCROLL,
													_text: 'IDS_KEY_SCROLL'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.LINKED,
													_text: 'IDS_MSKIN_NOT_LINKED'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.HIDDEN,
													_text: 'Hidden exterior peculiarity'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.SHIP_NOT_DETECTED,
													_text: 'IDS_FOG_OF_WAR_RULES'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.INFO,
													_text:	'IDS_PERMOFLAGE_AUTOREPLENISHMENT_AFTER_PURCHASE_INFO'},

												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.EARLY_ACCESS,
													_text:	'IDS_EARLY_ACCESS_STATUS_INFO'},
												
												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.PRIMARY,
													_text:	'IDS_COMPENDIUM_UNIFIED_STATUS_PRIMARY'},
												
												{	_unifiedStatus: SC.Ui_styles.UNIFIED_STATUS.WITHOUT_COMMANDER,
													_text:	'IDS_COMPENDIUM_UNIFIED_STATUS_WITHOUT_COMMANDER'}
											]")

		(var testTooltipDueDateStatusLines:array = "	[	{	_dueDateTimeStamp: serverTime + (DAY_IN_SEC * 2),
																_substTextIDS: 'IDS_BONUS_TAG_EXPIRATION_DATE'},

															{	_dueDateTimeStamp: serverTime + HOUR_IN_SEC,
																_substTextIDS: 'IDS_BONUS_TAG_EXPIRATION_DATE'},

															{	_dueDateTimeStamp: 100,
																_substTextIDS: 'IDS_BONUS_TAG_EXPIRATION_DATE'},

															{	_dueDateTimeStamp: 100,
																_substTextIDS: 'IDS_BONUS_TAG_EXPIRATION_DATE',
																_zeroTimeTextIDS: 'IDS_RENT_STATUS_TIME_IS_UP'}
														]")

		(var testTooltipTimeLeftStatusLines:array = "	[	{	_timeLeftTimeStamp: serverTime + (DAY_IN_SEC * 2),
																_substTextIDS: 'IDS_LOCKED_MISSION_TIME_LEFT_TOOLTIP'},

															{	_timeLeftTimeStamp: serverTime + HOUR_IN_SEC,
																_substTextIDS: 'IDS_LOCKED_MISSION_TIME_LEFT_TOOLTIP'},

															{	_timeLeftTimeStamp: 100,
																_substTextIDS: 'IDS_LOCKED_MISSION_TIME_LEFT_TOOLTIP'},

															{	_timeLeftTimeStamp: 100,
																_substTextIDS: 'IDS_LOCKED_MISSION_TIME_LEFT_TOOLTIP',
																_zeroTimeTextIDS: 'IDS_RENT_STATUS_TIME_IS_UP'}
														]")
	)

	(style
		(height = 100%)
		(flow = "horizontal")
		(hgap = "M")
	)

	(block
		(style (height = 100%))

		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemStatusLine'
			_width = 100%
		)

		(block
			(class $CompendiumTooltipSystemTileElementsContent)

			(controller $Repeat renderer='TestTooltipSystemStatusLine'
				(bind count "testTooltipStatusLines.length")
				(args
					_text =				"'_text'			in testTooltipStatusLines[$index] ? testTooltipStatusLines[$index]._text 			: null"
					_unifiedStatus =	"'_unifiedStatus'	in testTooltipStatusLines[$index] ? testTooltipStatusLines[$index]._unifiedStatus 	: null"
				)
			)
		)
	)

	(block
		(class $CompendiumTooltipSystemTileGroupsContent)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemStatusMultiparagraph'
				_width = 100%
			)

			(element TestTooltipSystemStatusMultiparagraph
				_unifiedStatus = "SC.Ui_styles.UNIFIED_STATUS.ATTENTION"
				_paragraphs = "['IDS_READY_TO_BATTLE_DENY_REASON_NO_SHIP',
								'IDS_READY_TO_BATTLE_DENY_REASON_NO_CREW',
								'IDS_READY_TO_BATTLE_DENY_REASON_SHIP_IS_NOT_READY',
								'IDS_READY_TO_BATTLE_DENY_REASON_SHIPS_HAVE_DIFFERENT_GROUPS']"
			)
		)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipSystemDateStatusLine'
				_width = 100%
			)

			(block
				(style (gap = "S"))

				(controller $Repeat renderer='TestTooltipSystemDateStatusLine'
					(bind count "testTooltipDueDateStatusLines.length")
					(args
						_dueDateTimeStamp =	"'_dueDateTimeStamp'	in testTooltipDueDateStatusLines[$index] ? testTooltipDueDateStatusLines[$index]._dueDateTimeStamp	: null"
						_substTextIDS =		"'_substTextIDS'		in testTooltipDueDateStatusLines[$index] ? testTooltipDueDateStatusLines[$index]._substTextIDS		: null"
						_zeroTimeTextIDS =	"'_zeroTimeTextIDS'		in testTooltipDueDateStatusLines[$index] ? testTooltipDueDateStatusLines[$index]._zeroTimeTextIDS	: null"
					)
				)
			)
		)

		(block
			(element CompendiumInteractiveElementTitle
				_title = 'TooltipTimeLeftStatusLine'
				_width = 100%
			)

			(block
				(style (gap = "S"))

				(controller $Repeat renderer='TestTooltipSystemTimeLeftStatusLine'
					(bind count "testTooltipTimeLeftStatusLines.length")
					(args
						_timeLeftTimeStamp =	"'_timeLeftTimeStamp'	in testTooltipTimeLeftStatusLines[$index] ? testTooltipTimeLeftStatusLines[$index]._timeLeftTimeStamp	: null"
						_substTextIDS =			"'_substTextIDS'		in testTooltipTimeLeftStatusLines[$index] ? testTooltipTimeLeftStatusLines[$index]._substTextIDS		: null"
						_zeroTimeTextIDS =		"'_zeroTimeTextIDS'		in testTooltipTimeLeftStatusLines[$index] ? testTooltipTimeLeftStatusLines[$index]._zeroTimeTextIDS		: null"
					)
				)
			)
		)
	)
)

(def element CompendiumTooltipSystemPriceContainer ()
	(scope
		(var serverTime:number = "currentServerSeconds()" (event "evInfrequent"))

		(var testTooltipSystemPriceTagLine:array = "[	{_title: 'Overpriced price of the price for two lines more and more', _priceInfo: {basePrice: 1700, finalPrice: 1500, currency: SC.Common.CURRENCIES.ELITE_XP}, _isAutoWidth:false},
														{_title: 'Earn', _priceInfo: {finalPrice: 398, currency: SC.Common.CURRENCIES.CREDITS}, _isAutoWidth:true},
														{_title: 'Smth else', _priceInfo: {finalPrice: 15, currency: SC.Common.CURRENCIES.XP}, _isAutoWidth:true}
													]")
		(var testTooltipSystemPriceInfoTagLine:array = "[	{ _size: SIZE.SMALL, _priceInfo: { finalPrice: 1500,	basePrice: 1700,	type: DISCOUNT_TYPE.EVENT,				currency: SC.Common.CURRENCIES.ELITE_XP}},
															{ _size: SIZE.SMALL, _priceInfo: { finalPrice: 1300,	basePrice: 1500,	type: DISCOUNT_TYPE.CLAN,				currency: SC.Common.CURRENCIES.CREDITS}},
															{ _size: SIZE.SMALL, _priceInfo: { finalPrice: 1300,	basePrice: 1500,	till: serverTime + (DAY_IN_SEC / 2),	currency: SC.Common.CURRENCIES.GOLD}},
															{ _size: SIZE.SMALL, _priceInfo: { finalPrice: 1100,	basePrice: 1300,	type: DISCOUNT_TYPE.FIRST_PERMOFLAGE,	currency: SC.Common.CURRENCIES.XP}}]")
	)
	(style
		(height = 100%)
		(flow = "horizontal")
		(hgap = "M")
	)

	(block
		(style (height = 100%))

		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemPriceTagLine'
			_width = 100%
		)

		(block
			(class $CompendiumTooltipSystemTileElementsContent)

			(controller $Repeat renderer='TestTooltipSystemPriceTagLine'
				(bind count "testTooltipSystemPriceTagLine.length")
				(args
					_title =		"testTooltipSystemPriceTagLine[$index]._title"
					_priceInfo =	"testTooltipSystemPriceTagLine[$index]._priceInfo"
					_isAutoWidth =	"testTooltipSystemPriceTagLine[$index]._isAutoWidth"
				)
			)
		)
	)

	(block
		(style (height = 100%))

		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemPriceInfo'
			_width = 100%
		)

		(block
			(class $CompendiumTooltipSystemTileElementsContent)

			(controller $Repeat renderer='TestTooltipSystemPriceInfo'
				(bind count "testTooltipSystemPriceInfoTagLine.length")
				(args
					_size =		"testTooltipSystemPriceInfoTagLine[$index]._size"
					_priceInfo =	"testTooltipSystemPriceInfoTagLine[$index]._priceInfo"
				)
			)
		)
	)
)

(def element CompendiumTooltipSystemRewardContainer ()
	(scope
		(var testTooltipSystemRewards:array = "	[	{
														id:	null,
														name: '',
														amount: '1000',
														type: 'Resource',
														subtype: SC.Common.CURRENCIES.XP,
														params: {}
													},
													{
														id:	null,
														name: '',
														amount: '3534530',
														type: 'Resource',
														subtype: SC.Common.CURRENCIES.CREDITS,
														params: {}
													},
													{
														id:	null,
														name: '',
														amount: '5',
														type: 'Resource',
														subtype: 'slots',
														params: {}
													},
													{
														id:	null,
														name: '',
														amount: '235',
														type: 'Resource',
														subtype: SC.Common.CURRENCIES.GOLD,
														params: {}
													}
												]")
	)
	(style
		(height = 100%)
		(flow = "horizontal")
		(hgap = "M")
	)

	(block
		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemRewards'
			_width = 100%
		)

		(element TestTooltipSystemRewards
			_rewardsTitle = 'IDS_REWARDS_CAMPAIGN_TASK'
			_rewards = "testTooltipSystemRewards"
		)
	)

	(block
		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemRewardsList'
			_width = 100%
		)

		(element TestTooltipSystemRewardsList
			_rewards = "testTooltipSystemRewards"
		)
	)
)

(def element CompendiumTooltipSystemParamsContainer ()
	(scope
		(var attributesPositive:array = "	[	{	attributeIDS: 'Percent positive attribute',
													measuredValue: '+50',
													measure: 'IDS_PERCENT',
													category: 'positive'
												},
												{	attributeIDS: 'Two lines long kilometer positive attribute',
													measuredValue: '+5.2',
													measure: 'IDS_KILOMETER',
													category: 'positive'
												}
											]")

		(var attributesNeutral:array = "	[	{	attributeIDS: 'Neutral attribute',
													measuredValue: '10',
													measure: 'IDS_SECOND',
													category: 'neutral'
												}
											]")

		(var attributesNegative:array = "	[	{	attributeIDS: 'Negative attribute',
													measuredValue: '-3',
													measure: 'IDS_KILOMETER_HOUR',
													category: 'negative'
												}
											]")
	)
	(style
		(height = 100%)
		(flow = "horizontal")
		(hgap = "M")
	)

	(block
		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemParamsModifiersList'
			_width = 100%
		)

		(element TestTooltipSystemParamsModifiersList
			_attributesPositive =	"attributesPositive"
			_attributesNeutral =	"attributesNeutral"
			_attributesNegative =	"attributesNegative"
		)
	)

	(block
		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemIntegralShipParams'
			_width = 100%
		)

		(element TestTooltipSystemIntegralShipParams)
	)

	(block
		(element CompendiumInteractiveElementTitle
			_title = 'TooltipSystemParamsList'
			_width = 100%
		)

		(element TestTooltipSystemParamsList
			_title = 'IDS_AFTER_MOUNT'
		)
	)
)

(def element CompendiumElementTitle (_title:str, _width:number = "auto", _size:number = "SIZE.MEDIUM")
	(style
		(bind width "_width")
		(bind paddingTop	"_size == SIZE.SMALL ? XS : S")
		(bind paddingBottom	"_size == SIZE.SMALL ? XS : S")
		(bind marginBottom	"_size == SIZE.SMALL ? XS : S")
	)
	(tf
		(bind class "_size == SIZE.SMALL ? '$TextDefaultBold14NM' : '$TextDefaultBold18NM'")
		(style (alpha = "TA"))
		(bind text "_title")
	)
)

(def element CompendiumInteractiveElementTitle (_title:str, _width:number = "auto", _size:number = "SIZE.MEDIUM")
	(scope
		(macro MOUSE_HANDLER_SCOPE)
		(var state:number = "	mouseDown		? SC.Ui_styles.BUTTON_STATE.DOWN :
								rollOver		? SC.Ui_styles.BUTTON_STATE.OVER
												: SC.Ui_styles.BUTTON_STATE.UP ")

		(var templateAlpha:number = "RESIZE_CONSTANT_TEMPLATE_ALPHA[state]")

		(event evCopyToClipboard)
		(var copyToClipboard:str = "$debug.copyToClipboard(_title)" init=false watch=false (event "evCopyToClipboard"))
	)
	(style
		(bind width "_width")
		(bind paddingTop	"_size == SIZE.SMALL ? XS : S")
		(bind paddingBottom	"_size == SIZE.SMALL ? XS : S")
		(bind marginBottom	"_size == SIZE.SMALL ? XS : S")
	)

	(block
		(block
			(style (backgroundColor = "NO_COLOR"))
			(macro MOUSE_EVENTS_DISPATCHER)
			(dispatch evCopyToClipboard dir="EventDirection.NONE" on='leftClick')

			(controller $Tooltip
				(renderer = 'SimpleStatusTooltip')
				(args
					_text = 'IDS_COMPENDIUM_COPY_VALUES'
					_unifiedStatus = "SC.Ui_styles.UNIFIED_STATUS.MOUSE_LEFT"
				)
				(macro DEFAULT_TOOLTIP_BEHAVIOUR)
			)

			(controller $Animation
				(bindcall play
					duration = 0.12
					to = "{ alpha: templateAlpha }"
					action = "kill"
					easing = "Easing.quad_out"
					(bind trigger "templateAlpha")
				)
			)


			(tf
				(bind class "_size == SIZE.SMALL ? '$TextDefaultBold14NM' : '$TextDefaultBold18NM'")
				(style (alpha = "TA"))
				(bind text "_title")
			)
		)

		(block
			(class $CompendiumFxMessagePosition)

			(controller $FxInstance renderer='CompendiumFxMessage' lifetime=0.7
				(bindcall create (event "evCopyToClipboard"))
				(args
					_text = 'IDS_COMPENDIUM_COPY_VALUES_COMPLETE'
				)
			)
		)
	)
)

(def element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER ()
	(style
		(width = 100%)
		(paddingRight = "M")
		(paddingLeft = "M")
		(paddingBottom = "SXS")
		(paddingTop = "SXS")
	)

	
	(block
		(class $FullsizeAbsolute)
		(style
			(paddingRight = "-M")
			(paddingLeft = "-M")
			(paddingBottom = "-SXS")
			(paddingTop = "-SXS")
		)

		(block
			(class $FullsizeAbsolute)
			(style
				(backgroundColor = "SC.Ui_styles.SERVICE_COLORS.DARK_BLUE")
				(borderRadius = "XS")
				(alpha = 0.3)
			)
		)

		(block
			(class $Fullsize)
			(style
				(backgroundColor = "SC.Ui_styles.SERVICE_COLORS.WHITE")
				(borderRadius = "XS")
			)
			(isMask = true)
		)
	)
	
)


(def element TestTooltipSystemHeaderWithIconAndText (	_imageUrl:str='', _imageWidth:number=0, _imageHeight:number=0,
														_headerText:str='', _headerIconType:number=0, _iconAmount:str='', _subheaderText:str='')
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemHeaderWithIconAndText
			_imageUrl =			"_imageUrl"
			_imageWidth =		"_imageWidth"
			_imageHeight =		"_imageHeight"
			_headerText =		"_headerText"
			_headerIconType =	"_headerIconType"
			_iconAmount =		"_iconAmount"
			_subheaderText =	"_subheaderText"
		)
	)
)

(def element TestTooltipSystemHeaderSubheaderText (_headerText:str='', _subheaderText:str='')
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemHeaderSubheaderText
			_headerText = "_headerText"
			_subheaderText = "_subheaderText"
		)
	)
)

(def element TestTooltipSystemSecondaryHeaderText (_headerText:str='')
	(style (width = 300px))


	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemSecondaryHeaderText
			_headerText = "_headerText"
		)
	)
)




(def element TestTooltipSystemStatusLine (_text:str='', _unifiedStatus:str = "SC.Ui_styles.UNIFIED_STATUS.DEFAULT")
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemStatusLine
			_text = "_text"
			_unifiedStatus = "_unifiedStatus"
		)
	)
)

(def element TestTooltipSystemDateStatusLine (_dueDateTimeStamp:number, _substTextIDS:str='', _zeroTimeTextIDS:str='')
	(style (width = 300px))


	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemDueDateStatusLine
			_dueDateTimeStamp =	"_dueDateTimeStamp"
			_substTextIDS =		"_substTextIDS"
			_zeroTimeTextIDS =	"_zeroTimeTextIDS"
		)
	)
)

(def element TestTooltipSystemTimeLeftStatusLine (_timeLeftTimeStamp:number, _substTextIDS:str='', _zeroTimeTextIDS:str='')
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemTimeLeftStatusLine
			_timeLeftTimeStamp =	"_timeLeftTimeStamp"
			_substTextIDS =			"_substTextIDS"
			_zeroTimeTextIDS =		"_zeroTimeTextIDS"
		)
	)
)

(def element TestTooltipSystemDescription (_descriptionText:str)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemDescriptionText
			_descriptionText =	"_descriptionText"
		)
	)
)

(def element TestTooltipSystemParamsModifiersList (_attributesPositive:array=[], _attributesNeutral:array=[], _attributesNegative:array=[])
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemParamsModifiersList
			_attributesPositive =	"_attributesPositive"
			_attributesNeutral =	"_attributesNeutral"
			_attributesNegative =	"_attributesNegative"
		)
	)
)

(def element TestTooltipSystemRewards (_rewardsTitle:str, _rewards:array)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemRewards
			_rewardsTitle =	"_rewardsTitle"
			_rewards =	"_rewards"
		)
	)
)

(def element TestTooltipSystemRewardsList (_rewards:array)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemRewardsList
			_rewards =	"_rewards"
		)
	)
)

(def element TestTooltipSystemPriceTagLine (_title:str, _priceInfo:dict, _isAutoWidth:bool)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemPriceTagLine
			_title =		"_title"
			_priceInfo =	"_priceInfo"
			_isAutoWidth =	"_isAutoWidth"
		)
	)
)

(def element TestTooltipSystemPriceInfo (_title:str, _priceInfo:dict)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemPriceInfo
			_title =		"_title"
			_priceInfo =	"_priceInfo"
		)
	)
)

(def element TestTooltipSystemCounterLine (_title:str, _count:number, _isAutoWidth:bool)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemCounterLine
			_title =	"_title"
			_count =	"_count"
			_isAutoWidth = "_isAutoWidth"
		)
	)
)

(def element TestTooltipSystemIntegralShipParams ()
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemShipIntegralParams)
	)
)

(def element TestTooltipSystemParamsList ()
	(scope
		(var ammoCollection:gfx = "$datahub.getCollection(CC.visualSlotData)")
		(var ammoArray:array = "ammoCollection ? ammoCollection.items : []" (event "ammoCollection.evAdded") (event "ammoCollection.evRemoved"))
		(var ammoEntity:gfx = "ammoArray.length ? $datahub.getEntity(ammoArray[0].id) : null")
		(var paramsDescriptor:str = "ammoEntity ? ammoEntity.visualSlotData.id : ''")
	)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element AmmoParametersAdapter
			_ttxDescriptor = "paramsDescriptor"
		)
	)
)

(def element TestTooltipSystemTaskRestrictions ()
	(scope
		(var keyTargetMarkerDockEntity:dhEntity = "getSingleEntity(CC.keyTargetMarkerDock)")
		(var battleTypesRestrictions:array = "keyTargetMarkerDockEntity.battleTypesView.viewList" (event "keyTargetMarkerDockEntity.battleTypesView.evBattleTypesViewChanged"))
	)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemTaskRestrictions
			_restrictionEntity = "keyTargetMarkerDockEntity"
			_battleTypes = "battleTypesRestrictions"
		)
	)
)

(def element TestTooltipSystemProgressBarBlock (_title:str, _currentValue:number, _maxValue:number, _showPercent:bool=false)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemProgressBarBlock
			_title =			"_title"
			_currentValue =		"_currentValue"
			_maxValue =			"_maxValue"
			_showPercent =		"_showPercent"
		)
	)
)

(def element TestTooltipSystemDoubleProgressBarBlock (_title:str, _currentValue:number, _valueIncrement:number, _maxValue:number, _showPercent:bool=false)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemDoubleProgressBarBlock
			_title =			"_title"
			_currentValue =		"_currentValue"
			_maxValue =			"_maxValue"
			_showPercent =		"_showPercent"
			_valueIncrement = 	"_valueIncrement"
		)
	)
)

(def element TestTooltipSystemShipsRange (_startShipId:number, _endShipId:number)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemShipsRange
			_startShipId = "_startShipId"
			_endShipId = "_endShipId"
		)
	)
)

(def element TestTooltipSystemShipWithTitle (_shipId:number, _title:str = '', _withFlag:bool = false)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemShipWithTitle
			_title = "_title"
			_shipId = "_shipId"
			_withFlag = "_withFlag"
		)
	)
)

(def element TestTooltipSystemShipTags (_shipId:number)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemShipTags
			_shipId = "_shipId"
		)
	)
)

(def element TestTooltipSystemShipComplexityLevel (_shipId:number)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemShipComplexityLevel
			_shipId = "_shipId"
		)
	)
)

(def element TestTooltipSystemShipMasteryLevel (_masteryRank:number)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemShipMasteryLevel
			_masteryRank = "_masteryRank"
		)
	)
)

(def element TestTooltipSystemShipMasteryTaskStatus (_masteryTaskStatus:str)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemShipMasteryTaskStatus
			_masteryTaskStatus = "_masteryTaskStatus"
		)
	)
)

(def element TestTooltipSystemShipStereotype (_shipId:number, _isReady:bool)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemShipStereotype
			_shipId = "_shipId"
			_isReady = "_isReady"
		)
	)
)

(def element TestTooltipSystemHeaderShip (_shipId:number, _withFlag:bool)
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemHeaderShip
			_shipId = "_shipId"
			_withFlag = "_withFlag"
		)
	)
)

(def element TestTooltipSystemStatusMultiparagraph (_unifiedStatus:str, _paragraphs:array=[])
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemStatusMultiparagraph
			_unifiedStatus	= "_unifiedStatus"
			_paragraphs		= "_paragraphs"
		)
	)
)

(def element TestTooltipSystemShipRole (_shipRole:str, _hasColon:bool=false, _isWidthStretch:bool=false, _size:number = "SIZE.MEDIUM")
	(style (width = 300px))

	(element COMPENDIUM_TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemShipRole
			_shipRole = "_shipRole"
			_hasColon = "_hasColon"
			_isWidthStretch = "_isWidthStretch"
			_size = "_size"
		)
	)
)
