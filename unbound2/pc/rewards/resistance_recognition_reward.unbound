(def element ResistanceRecognitionRewardAnimatedIcon (_playSound:bool=false)
	(style
		(width = 80px)
		(height = 80px)
		(backgroundImage = "'url:../reward_icons/resistance_recognition_reward_icon.png'")
	)
	(bindcall externalCall 'sound.playSetSoundDirect' "['resistance_recognition_reward', 'receive']" (bind trigger "_playSound"))

	(controller $Tooltip
		(renderer='ResistanceRecognitionRewardTooltip')
		(macro DEFAULT_TOOLTIP_BEHAVIOUR)
	)
) 

(def element ResistanceRecognitionRewardTooltip ()
	(scope
		(var resistanceRewardComponent:dhComponent = "getSingleComponent(CC.resistanceReward)")
		(var modifiers:array = "resistanceRewardComponent.modifiers ?: []")
		(var topPlayersAmount:number = "resistanceRewardComponent.topPlayersAmount ?: 1")
	)
	(style (width = "DEFAULT_TOOLTIP_WIDTH"))
	(macro TOOLTIP_SYSTEM_DEFAULT_BACKGROUND)

	(element TOOLTIP_SYSTEM_DEFAULT_CONTAINER
		(element TooltipSystemHeaderWithIconAndText
			_imageUrl =			'url:../reward_icons/resistance_recognition_reward_icon.png'
			_imageWidth =		80px
			_imageHeight =		80px
			_headerText =		'IDS_RESISTANCE_RECOGNITION_HEADER'
			_subheaderText =	'IDS_RESISTANCE_RECOGNITION_SUBHEADER'
		)

		(element TooltipSystemHorizontalDivider)

		(element TooltipSystemHtmlDescriptionText
			_descriptionText = "subst('IDS_RESISTANCE_RECOGNITION_DESCRIPTION', [], { topPlayersAmount: topPlayersAmount })"
		)
 
		(element TooltipSystemHorizontalDivider)

		(element TooltipSystemParamsModifiersList
			_attributesPositive =	"modifiers"
		)
	)
)

(def element NumberChangeAnimated (_triggerValue:str=0, _textColor:number = "SC.Ui_styles.SERVICE_COLORS.WHITE")
	(scope
		(event evShow)

		(var value:number = 0)
		(controller $Animation
			(bindcall play	duration = 0.6
							to = "{ value: toNumber(_triggerValue)}"
							easing="Easing.cubic_out"
							(bind trigger "_triggerValue")
							(event "evShow")
			)
		)
	)

	(dispatch evShow on='addedToStage')

	(tf
		(class $TextDefaultBold50NM)
		(class $DropShadowDisabler)
		(style
			(letterSpacing = -2)
			(bind alpha "_textColor == SC.Ui_styles.SERVICE_COLORS.WHITE ? TA : 1")
			(bind textColor "_textColor")
		)
		(bind text "formatSeparator(ceil(value))")
	)
)