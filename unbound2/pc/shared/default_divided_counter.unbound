(def constant DIVIDED_COUNTER_PROPERTIES "{	'$TextDefaultBold14NM':		{	maxValueTextClass:	'$TextDefaultBold14NM',
																			maxValueTopMargin:	0px,
																			maxValueLeftMargin:	3px,
																			dividerLeftMargin:	4px},

											'$TextDefaultNM':			{	maxValueTextClass:	'$TextDefaultNM',
																			maxValueTopMargin:	0px,
																			maxValueLeftMargin:	3px,
																			dividerLeftMargin:	4px},

											'$TextDefault10NM':			{	maxValueTextClass:	'$TextDefault10NM',
																			maxValueTopMargin:	0px,
																			maxValueLeftMargin:	3px,
																			dividerLeftMargin:	4px},

											'$TextDefault18NM':			{	maxValueTextClass:	'$TextDefault18NM',
																			maxValueTopMargin:	0px,
																			maxValueLeftMargin:	3px,
																			dividerLeftMargin:	4px},

											'$TextDefault20NM':			{	maxValueTextClass:	'$TextDefault20NM',
																			mmaxValueTopMargin:	0px,
																			maxValueLeftMargin:	3px,
																			dividerLeftMargin:	4px},

											'$TextDefaultBoldNM':		{	maxValueTextClass:	'$TextDefaultBold14NM',
																			maxValueTopMargin:	2px,
																			maxValueLeftMargin:	3px},

											'$TextDefaultBold18NM':		{	maxValueTextClass:	'$TextDefaultBoldNM',
																			maxValueTopMargin:	1px,
																			maxValueLeftMargin:	2px},

											'$TextDefaultBold20NM':		{	maxValueTextClass:	'$TextDefaultBold18NM',
																			maxValueTopMargin:	1px,
																			maxValueLeftMargin:	2px},

											'$TextDefaultBold22NM':		{	maxValueTextClass:	'$TextDefaultBold20NM',
																			maxValueTopMargin:	2px,
																			maxValueLeftMargin:	2px},

											'$TextDefaultBold24NM':		{	maxValueTextClass:	'$TextDefaultBold22NM',
																			maxValueTopMargin:	1px,
																			maxValueLeftMargin:	3px},

											'$TextDefaultBold26NM':		{	maxValueTextClass:	'$TextDefaultBold24NM',
																			maxValueTopMargin:	2px,
																			maxValueLeftMargin:	4px},

											'$TextDefaultBold28NM':		{	maxValueTextClass:	'$TextDefaultBold26NM',
																			maxValueTopMargin:	2px,
																			maxValueLeftMargin:	4px},

											'$TextDefaultBold46NM':		{	maxValueTextClass:	'$TextDefaultBold46NM',
																			maxValueTopMargin:	0px,
																			maxValueLeftMargin:	6px}
											}")

(def element DefaultDividedCounter (_curValueTextClass:str='$TextDefaultNM', _curValue:number="null", _curValueStr:str="null", _maxValue:number="null", _unifiedStatus:str = "SC.Ui_styles.UNIFIED_STATUS.DEFAULT",
									_doNotAlphaOnZeroCurValue:bool="false", _doNotHideOnZeroMaxValue:bool="false", _curValueTooltipText:str = "''", _maxValueTooltipText:str = "''",
									_isBorderValueSameAlpha:bool = false, _isBorderValueSameSize:bool = false) layout=true

	(scope
		(var isCurValueStr:bool = "_curValueStr != null")
		(var curValue:number = "_curValue ? _curValue : 0")
		(var maxValue:number = "_maxValue ? _maxValue : 0")
	)
	(macro UNIFIED_STATUS_TO_COLOR_AND_ALPHA "_unifiedStatus" "'textColor'" "'textAlpha'")
	(bind visible "_doNotHideOnZeroMaxValue	|| maxValue > 0")

	(style (flow = "horizontal"))
	(bind alpha "	_doNotAlphaOnZeroCurValue			? 1 :
					!isCurValueStr && curValue == 0		? 0.6
														: 1")

	(tf
		(name = 'current_progress')
		(bind class "_curValueTextClass")
		(style
			(alpha = "TA")
			(bind textColor "textColor")
		)
		(bind text "isCurValueStr ? _curValueStr : formatSeparator(curValue)") 
	)

	(hblock
		(bind visible "maxValue > 0")
		(style
			(backgroundColor = "NO_COLOR")
			(bind alpha "_isBorderValueSameAlpha ? TA : TC")
			(bind marginTop "_isBorderValueSameSize ? 0px : DIVIDED_COUNTER_PROPERTIES[_curValueTextClass].maxValueTopMargin")
		)

		(controller $Tooltip
			(renderer='SimpleStatusTooltip')
			(args
				_text = "_maxValueTooltipText"
			)
			(align="bottom|right")
			(position="trackMouse")
			(offset=[5, 25])
			(macro SIMPLE_TOOLTIP_ANIMATION)

			(bind enabled "_maxValueTooltipText.length > 0")
		)

		(tf
			(bind class "DIVIDED_COUNTER_PROPERTIES[_curValueTextClass].maxValueTextClass")
			(style
				(bind textColor "textColor")
				(bind marginLeft "_curValueTextClass == '$TextDefaultNM'	?	DIVIDED_COUNTER_PROPERTIES[_curValueTextClass].dividerLeftMargin
																			:	DIVIDED_COUNTER_PROPERTIES[_curValueTextClass].maxValueLeftMargin")
			)
			(text = "'/'")
		)

		(tf
			(name = 'max_progress')
			(bind class "_isBorderValueSameSize ? _curValueTextClass : DIVIDED_COUNTER_PROPERTIES[_curValueTextClass].maxValueTextClass")
			(style
				(bind textColor "textColor")
				(bind marginLeft "DIVIDED_COUNTER_PROPERTIES[_curValueTextClass].maxValueLeftMargin")
			)
			(bind text "formatSeparator(maxValue)")
		)
	)
)