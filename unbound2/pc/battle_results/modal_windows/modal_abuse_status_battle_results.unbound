(def element ModalWindowPostbattleAbuseStatusReport ()
	(macro MODAL_WINDOW_INIT)
	(macro MODAL_WINDOW_BG)
	(scope
		(var battleResultsStructuredEntity:dhEntity = "getSingleEntity(CC.battleResultsStructured)")
		(var dataComponent:dict = "battleResultsStructuredEntity.dataComponent.data")

		(var abuseStatus:number = "dataComponent.personal.player.abuseStatus ?: 0")
		(var isEconomicallyPunished:bool = "dataComponent.personal.isEconomicallyPunished")
		(var abuseComponents:array = "dataComponent.personal.player.abuse_components")
		(var abuseStatusStr:str = "SC.Common.ABUSE_STATUS.VALUE_TO_NAME[abuseStatus]")
	)

	(style (align = "center|middle"))

	(block
		(macro DEFAULT_MODAL_WINDOW_ANIMATION 1)

		(style (width = 600px))

		(element ModalWindowShortHeader
			_header = 'IDS_PBS_ABUSE'
		)

		(block
			(style
				(width = 100%)
				(paddingLeft = "MS")
				(paddingRight = "MS")
			)

			(tf
				(class $TextDefault22NM)
				(style
					(width = 100%)
					(marginTop = "LS")
					(marginBottom = "M")
					(alpha = "TC")
				)
				(text = 'IDS_RESULT_SCREEN_MODAL_WINDOW_ABUSE_REASONS_LIST_HEADER')
			)

			(block
				(style
					(width = 100%)
					(marginLeft = "MS")
					(marginBottom = "SXS")
				)

				(controller $Repeat renderer='ListWithBulletsItem'
					(bind count "abuseComponents.length")
					(args
						_text="'IDS_ABUSE_REASON_' + toUpper(abuseComponents[$index])"
						_listLength="abuseComponents.length"
						_textClass='$TextDefault22NM'
					)
				)
			)

			(tf
				(bind visible "isEconomicallyPunished")
				(class $TextDefault22NM)
				(style
					(width = 100%)
					(marginBottom = "MS")
					(alpha = "TC")
				)
				(text = 'IDS_ABUSE_ECONOMICALLY_PUNISHED')
			)

			(tf
				(class $TextDefault22NM)
				(style
					(width = 100%)
					(marginBottom = "LS")
					(alpha = "TC")
				)
				(bind text "'IDS_ABUSE_STATUS_' + abuseStatusStr + '_DESCRIPTION'")
			)
		)

		(element HorizontalDividerTwoPx)

	)
	(block
		(macro DEFAULT_MODAL_WINDOW_ANIMATION 2)
		(style
			(width = 100%)
			(align = "center")
			(marginTop = "MS")
		)
		(element DefaultButton
			_name = 'btn_cancel'
			_label = 'IDS_CLOSE_UPPER_CASE'
			_size = "SIZE.MEDIUM"
			_width = 140px
			_focusIndex = 0
			_defaultFocused = "true"
		)
	)
)